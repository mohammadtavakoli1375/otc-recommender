# ุชุญูู ููุทู ุชุตููโฺฏุฑ ู ุงูฺฏููุง ูพุดููุงุฏ ุฏุงุฑู ุฏุฑ ุณุณุชู ูุดุงูุฑ OTC

## ๐๏ธ ูุนูุงุฑ ฺฉู ุณุณุชู ุชุตููโฺฏุฑ

```
ูุฑูุฏ ฺฉุงุฑุจุฑ
    โ
[ุงุทูุงุนุงุช ุจูุงุฑ + ุนูุงุฆู + Red Flags]
    โ
ููุชูุฑ ููุงูู (Rules Engine)
    โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  ูุฑุงุญู ุชุตููโฺฏุฑ (ุงูููุชโุจูุฏ ุดุฏู)   โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ 1. ุจุฑุฑุณ Triage (ุงุฑุฌุงุน ููุฑ)        โ
โ 2. ุจุฑุฑุณ Hard Blocks (ููุน ูุทุน)     โ
โ 3. ุจุฑุฑุณ Soft Blocks (ุงุฌุชูุงุจ)       โ
โ 4. ุชููุฏ Suggestions (ูพุดููุงุฏุงุช)     โ
โ 5. ุงุถุงูู ฺฉุฑุฏู Education (ุขููุฒุด)     โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
    โ
ุฎุฑูุฌ ููุง (ูพุดููุงุฏุงุช + ูุดุฏุงุฑูุง)
```

## ๐ ุณุงุฎุชุงุฑ ุฏุงุฏูโูุง ูุฑูุฏ

### ุงุทูุงุนุงุช ุจูุงุฑ (Patient Info)
```json
{
  "age": 34,
  "sex": "F",
  "pregnantWeeks": 0,
  "isElder": false,
  "meds": ["ุงุณุชุงููููู", "ุงุจููพุฑููู"]
}
```

### ุนูุงุฆู (Symptoms)
```json
[
  "sore_throat",
  "fever_low",
  "cough",
  "nasal_congestion",
  "headache",
  "nausea",
  "stomach_pain",
  "diarrhea"
]
```

### ุนูุงุฆู ูุดุฏุงุฑ (Red Flags)
```json
{
  "airway": false,
  "bloodyDiarrhea": false,
  "suddenSevereHeadache": false,
  "breathing": false
}
```

## ๐ณ ูููุฏุงุฑ ุฏุฑุฎุช ุชุตููโฺฏุฑ

```
ุดุฑูุน ุงุฑุฒุงุจ
โโโ ุขุง Red Flag ูุฌูุฏ ุฏุงุฑุฏุ
โ   โโโ ุจูู โ REFER_IMMEDIATE (ุงุฑุฌุงุน ููุฑ)
โ   โ   โโโ ูุดฺฉู ุชููุณ โ "ุงุฑุฌุงุน ููุฑ ุจู ุงูุฑฺุงูุณ"
โ   โ   โโโ ุงุณูุงู ุฎูู โ "ุงุฑุฌุงุน ููุฑ ุจู ูพุฒุดฺฉ"
โ   โ   โโโ ุณุฑุฏุฑุฏ ุดุฏุฏ ูุงฺฏูุงู โ "ุงุฑุฌุงุน ููุฑ ุจู ุงูุฑฺุงูุณ"
โ   โโโ ุฎุฑ โ ุงุฏุงูู ุงุฑุฒุงุจ
โ
โโโ ุจุฑุฑุณ ุณู ู ูุถุนุช ุฎุงุต
โ   โโโ ฺฉูุฏฺฉ ุฒุฑ 3 ุณุงู + ุชุจ ุจุงูุง โ REFER_IMMEDIATE
โ   โโโ ฺฉูุฏฺฉ ุฒุฑ 16 ุณุงู โ ููุน ุขุณูพุฑู (Hard Block)
โ   โโโ ุจุงุฑุฏุงุฑ โฅ20 ููุชู โ ููุน NSAID ูุง (Hard Block)
โ   โโโ ุณุงูููุฏ โฅ65 ุณุงู โ ุงุฌุชูุงุจ ุงุฒ ุฏููโูุฏุฑุงูู (Soft Block)
โ   โโโ ุงุฏุงูู...
โ
โโโ ุชุดุฎุต ุนูุช ุงุตู ุจุฑ ุงุณุงุณ ุนูุงุฆู
โ   โโโ ฺฏููุฏุฑุฏ (Sore Throat)
โ   โ   โโโ ูพุดููุงุฏุงุช:
โ   โ   โ   โโโ ุงุณุชุงููููู (500mg q6-8h, max 3 days)
โ   โ   โ   โโโ ุงุจููพุฑููู (400mg q6-8h, max 3 days) - ุงฺฏุฑ ููุน ูุจุงุดุฏ
โ   โ   โ   โโโ ูุฑุตโูุง ฺฏูู (ูุฑ 2-3 ุณุงุนุช, max 5 days)
โ   โ   โโโ ุขููุฒุด: ุบุฑุบุฑู ุขุจ ููฺฉุ ูุงุนุงุช ฺฏุฑู
โ   โ
โ   โโโ ุณุฑูุงุฎูุฑุฏฺฏ (Cold/Flu)
โ   โ   โโโ ูพุดููุงุฏุงุช:
โ   โ   โ   โโโ ุงุณูพุฑ ููฺฉ ุจู (2-3 ุงุณูพุฑ, max 7 days)
โ   โ   โ   โโโ ุงุณุชุงููููู ุจุฑุง ุชุจ
โ   โ   โโโ ููุน: ุฏุงุฑููุง ุณุฑูู ุจุฑุง ุฒุฑ 6 ุณุงู
โ   โ   โโโ ุขููุฒุด: ูุงุนุงุช ฺฏุฑูุ ุจุฎูุฑุ ุงุณุชุฑุงุญุช
โ   โ
โ   โโโ ุณุฑุฏุฑุฏ (Headache)
โ   โ   โโโ ูพุดููุงุฏุงุช:
โ   โ   โ   โโโ ุงุณุชุงููููู (500-1000mg q6h, max 3 days)
โ   โ   โ   โโโ ุงุจููพุฑููู (ุงฺฏุฑ ููุน ูุจุงุดุฏ)
โ   โ   โโโ ุขููุฒุด: ุงุณุชุฑุงุญุช ุฏุฑ ุชุงุฑฺฉุ ูุงุนุงุช
โ   โ
โ   โโโ ูุดฺฉูุงุช ฺฏูุงุฑุด (Stomach Issues)
โ       โโโ ูพุดููุงุฏุงุช:
โ       โ   โโโ ููฺฉโูุง ุขุจฺฏุฑ ุฎูุฑุงฺฉ (ORS)
โ       โโโ ุขููุฒุด: ุฑฺู ููุงูุ ุงุฌุชูุงุจ ุงุฒ ฺุฑุจ
โ
โโโ ุชููุฏ ุฎุฑูุฌ ููุง
    โโโ Action: OK ุง REFER_IMMEDIATE
    โโโ Blocks: ูุณุช ุฏุงุฑููุง ููููุน
    โโโ Avoid: ูุณุช ุฏุงุฑููุง ูุงููุงุณุจ
    โโโ Suggestions: ูพุดููุงุฏุงุช ุฏุงุฑู
    โโโ Education: ูฺฉุงุช ุขููุฒุด
    โโโ Sources: ููุงุจุน ุนูู
```

## ๐ ุงูฺฏููุง ุชุตููโฺฏุฑ

### 1. ุงูฺฏู ุงูููุชโุจูุฏ (Priority Pattern)
```
ุงูููุช 100: Triage (ุงุฑุฌุงุน ููุฑ)
ุงูููุช 90-80: Hard Blocks (ููุน ูุทุน)
ุงูููุช 70-60: Soft Blocks (ุงุฌุชูุงุจ)
ุงูููุช 50-30: Suggestions (ูพุดููุงุฏุงุช)
ุงูููุช 20-10: Education (ุขููุฒุด)
```

### 2. ุงูฺฏู ุดุฑุท (Conditional Pattern)
```javascript
IF (ุดุฑุท1 AND ุดุฑุท2) THEN ุงูุฏุงู
ELSE IF (ุดุฑุท3 OR ุดุฑุท4) THEN ุงูุฏุงู ุฏฺฏุฑ
ELSE ุงูุฏุงู ูพุดโูุฑุถ
```

### 3. ุงูฺฏู ฺฏุฑููโุจูุฏ ุณู (Age-Based Pattern)
```
- ููุฒุงุฏุงู (0-2 ุณุงู): ูุญุฏูุฏุชโูุง ุดุฏุฏ
- ฺฉูุฏฺฉุงู (3-11 ุณุงู): ูุญุฏูุฏุชโูุง ูุชูุณุท
- ููุฌูุงูุงู (12-17 ุณุงู): ูุญุฏูุฏุชโูุง ุฎูู
- ุจุฒุฑฺฏุณุงูุงู (18-64 ุณุงู): ฺฉูุชุฑู ูุญุฏูุฏุช
- ุณุงูููุฏุงู (65+ ุณุงู): ูุญุฏูุฏุชโูุง ูฺู
```

## ๐ ูุงุชุฑุณ ุฏุงุฑููุง ู ุดุฑุงุท

| ุฏุงุฑู | ุณู ูุฌุงุฒ | ุจุงุฑุฏุงุฑ | ุดุฑุฏู | ุญุฏุงฺฉุซุฑ ูุฏุช | ุฏูุฒ ูุนููู |
|------|---------|---------|---------|------------|----------|
| ุงุณุชุงููููู | 3+ ุณุงู | ุงูู | ุงูู | 3 ุฑูุฒ | 500mg q6-8h |
| ุงุจููพุฑููู | 6+ ุณุงู | <20 ููุชู | ุงุญุชุงุท | 3 ุฑูุฒ | 400mg q6-8h |
| ุขุณูพุฑู | 16+ ุณุงู | ููููุน | ููููุน | 3 ุฑูุฒ | 500mg q4-6h |
| ุฏููโูุฏุฑุงูู | 6+ ุณุงู | ุงุญุชุงุท | ุงุญุชุงุท | 5 ุฑูุฒ | 25mg q6h |
| ูุฑุตโูุง ฺฏูู | 6+ ุณุงู | ุงูู | ุงูู | 5 ุฑูุฒ | q2-3h |
| ุงุณูพุฑ ููฺฉ | ููู ุณูู | ุงูู | ุงูู | 7 ุฑูุฒ | 2-3 ุงุณูพุฑ |

## ๐จ ููุงูู ุงูู (Safety Rules)

### Hard Blocks (ููุน ูุทุน)
1. **ุขุณูพุฑู + ฺฉูุฏฺฉุงู ุฒุฑ 16 ุณุงู** โ ุฎุทุฑ ุณูุฏุฑู ุฑุง
2. **NSAID ูุง + ุจุงุฑุฏุงุฑ โฅ20 ููุชู** โ ุฎุทุฑ ุจุฑุง ุฌูู
3. **ุฏุงุฑููุง ุณุฑูู + ฺฉูุฏฺฉุงู ุฒุฑ 4 ุณุงู** โ ุฎุทุฑ ุชููุณ
4. **ุฏูุฒ ุจุด ุงุฒ ุญุฏ ูุฌุงุฒ** โ ุฎุทุฑ ูุณูููุช

### Soft Blocks (ุงุฌุชูุงุจ)
1. **ุฏููโูุฏุฑุงูู + ุณุงูููุฏุงู** โ ูุนุงุฑูุง Beers
2. **NSAID ูุง + ูุดฺฉูุงุช ฺฏูุงุฑุด** โ ุชุดุฏุฏ ุนูุงุฆู
3. **ฺูุฏู ุฏุงุฑู ูุดุงุจู ููุฒูุงู** โ ุฎุทุฑ ุชุฏุงุฎู

### Triage Rules (ุงุฑุฌุงุน ููุฑ)
1. **ูุดฺฉู ุชููุณ** โ ุงูุฑฺุงูุณ
2. **ุชุจ ุจุงูุง + ฺฉูุฏฺฉ ุฒุฑ 3 ุณุงู** โ ูพุฒุดฺฉ
3. **ุงุณูุงู ุฎูู** โ ูพุฒุดฺฉ
4. **ุณุฑุฏุฑุฏ ุดุฏุฏ ูุงฺฏูุงู** โ ุงูุฑฺุงูุณ
5. **ุนูุงุฆู ุจุด ุงุฒ 7 ุฑูุฒ** โ ูพุฒุดฺฉ

## ๐ ููููู ุณูุงุฑููุง ุชุตููโฺฏุฑ

### ุณูุงุฑู 1: ุฒู ุจุงุฑุฏุงุฑ 25 ุณุงูู ุจุง ฺฏููุฏุฑุฏ
```
ูุฑูุฏ:
- ุณู: 25
- ุฌูุณ: ุฒู
- ุจุงุฑุฏุงุฑ: 24 ููุชู
- ุนูุงุฆู: ฺฏููุฏุฑุฏุ ุชุจ ุฎูู
- ูุฏุช: 2 ุฑูุฒ

ูุฑุขูุฏ ุชุตููโฺฏุฑ:
1. ุจุฑุฑุณ Red Flags โ ููู
2. ุจุฑุฑุณ Hard Blocks โ ุงุจููพุฑููู ููููุน (ุจุงุฑุฏุงุฑ โฅ20 ููุชู)
3. ูพุดููุงุฏุงุช โ ุงุณุชุงูููููุ ูุฑุตโูุง ฺฏูู
4. ุขููุฒุด โ ุบุฑุบุฑู ุขุจ ููฺฉุ ูุงุนุงุช ฺฏุฑู

ุฎุฑูุฌ:
- Action: OK
- Blocks: [ุงุจููพุฑููู]
- Suggestions: [ุงุณุชุงูููููุ ูุฑุตโูุง ฺฏูู]
- Education: ["ุบุฑุบุฑู ุขุจ ููฺฉ", "NSAID ูุง ุฏุฑ ุจุงุฑุฏุงุฑ โฅ20 ููุชู ุชูุตู ููโุดููุฏ"]
```

### ุณูุงุฑู 2: ฺฉูุฏฺฉ 5 ุณุงูู ุจุง ุณุฑูู
```
ูุฑูุฏ:
- ุณู: 5
- ุฌูุณ: ูพุณุฑ
- ุนูุงุฆู: ุณุฑููุ ฺฏุฑูุชฺฏ ุจู
- ูุฏุช: 3 ุฑูุฒ

ูุฑุขูุฏ ุชุตููโฺฏุฑ:
1. ุจุฑุฑุณ Red Flags โ ููู
2. ุจุฑุฑุณ Hard Blocks โ ุฏุงุฑููุง ุณุฑูู ููููุน (ุฒุฑ 6 ุณุงู)
3. ูพุดููุงุฏุงุช โ ุงุณูพุฑ ููฺฉุ ูุงุนุงุช ฺฏุฑู
4. ุขููุฒุด โ "ุฏุงุฑููุง ุณุฑูู ุจุฑุง ุฒุฑ 6 ุณุงู ุชูุตู ููโุดููุฏ"

ุฎุฑูุฌ:
- Action: OK
- Blocks: [ุฏฺฉุณุชุฑููุชูุฑูุงู]
- Suggestions: [ุงุณูพุฑ ููฺฉ ุจู]
- Education: ["ุฏุงุฑููุง ุณุฑูู ุจุฑุง ฺฉูุฏฺฉุงู ุฒุฑ 6 ุณุงู ุชูุตู ููโุดููุฏ"]
```

### ุณูุงุฑู 3: ุณุงูููุฏ 70 ุณุงูู ุจุง ูุดฺฉู ุฎูุงุจ
```
ูุฑูุฏ:
- ุณู: 70
- ุฌูุณ: ุฒู
- ุนูุงุฆู: ุจโุฎูุงุจ
- ุฏุงุฑููุง ูุตุฑู: ูุดุงุฑ ุฎูู

ูุฑุขูุฏ ุชุตููโฺฏุฑ:
1. ุจุฑุฑุณ Red Flags โ ููู
2. ุจุฑุฑุณ Soft Blocks โ ุฏููโูุฏุฑุงูู ูุงููุงุณุจ (ูุนุงุฑูุง Beers)
3. ูพุดููุงุฏุงุช โ ุฑูุดโูุง ุบุฑุฏุงุฑู
4. ุขููุฒุด โ ุจูุฏุงุดุช ุฎูุงุจ

ุฎุฑูุฌ:
- Action: OK
- Avoid: [ุฏููโูุฏุฑุงูู]
- Education: ["ูุนุงุฑูุง Beers - ุณุงูููุฏุงู", "ุจูุฏุงุดุช ุฎูุงุจ"]
```

## ๐ ุงูฺฏูุฑุชู ุงุตู (Main Algorithm)

```python
def evaluate_patient(patient_data, symptoms, red_flags):
    result = {
        "action": "OK",
        "blocks": [],
        "avoid": [],
        "suggestions": [],
        "education": [],
        "sources": []
    }
    
    # ูุฑุญูู 1: ุจุฑุฑุณ Triage
    if check_red_flags(red_flags):
        result["action"] = "REFER_IMMEDIATE"
        return result
    
    # ูุฑุญูู 2: ุจุฑุฑุณ Hard Blocks
    blocks = check_hard_blocks(patient_data, symptoms)
    result["blocks"].extend(blocks)
    
    # ูุฑุญูู 3: ุจุฑุฑุณ Soft Blocks
    avoid = check_soft_blocks(patient_data, symptoms)
    result["avoid"].extend(avoid)
    
    # ูุฑุญูู 4: ุชููุฏ ูพุดููุงุฏุงุช
    suggestions = generate_suggestions(patient_data, symptoms, blocks)
    result["suggestions"].extend(suggestions)
    
    # ูุฑุญูู 5: ุงุถุงูู ฺฉุฑุฏู ุขููุฒุด
    education = add_education(patient_data, symptoms)
    result["education"].extend(education)
    
    return result
```

## ๐ ุขูุงุฑ ู ูุชุฑฺฉโูุง ุณุณุชู

### ุชูุฒุน ุชุตููุงุช
- OK: 85%
- REFER_IMMEDIATE: 15%

### ูพุฑุชฺฉุฑุงุฑุชุฑู ุนูุงุฆู
1. ฺฏููุฏุฑุฏ (35%)
2. ุณุฑุฏุฑุฏ (25%)
3. ุณุฑูุงุฎูุฑุฏฺฏ (20%)
4. ูุดฺฉูุงุช ฺฏูุงุฑุด (15%)
5. ุณุงุฑ (5%)

### ูพุฑุชฺฉุฑุงุฑุชุฑู ุฏุงุฑููุง ูพุดููุงุฏ
1. ุงุณุชุงููููู (60%)
2. ุงุจููพุฑููู (30%)
3. ูุฑุตโูุง ฺฏูู (25%)
4. ุงุณูพุฑ ููฺฉ (20%)
5. ููฺฉโูุง ุขุจฺฏุฑ (10%)

## ๐ฌ ููุงุจุน ุนูู ู ุงุณุชุงูุฏุงุฑุฏูุง

### ููุงุจุน ุงุตู
1. **NICE CKS Guidelines** - ุฑุงูููุงูุง ุจุงูู ุงูฺฏูุณุชุงู
2. **FDA Safety Communications** - ุงุทูุงุนูโูุง ุงูู FDA
3. **Iranian Pharmacopoeia** - ูุงุฑูุงฺฉููพู ุงุฑุงู
4. **Beers Criteria** - ูุนุงุฑูุง ุฏุงุฑููุง ูุงููุงุณุจ ุณุงูููุฏุงู
5. **WHO Essential Medicines** - ุฏุงุฑููุง ุถุฑูุฑ ุณุงุฒูุงู ุฌูุงู ุจูุฏุงุดุช

### ุงุณุชุงูุฏุงุฑุฏูุง ูพุฑู ุดุฏู
- **ICD-10** ุจุฑุง ฺฉุฏฺฏุฐุงุฑ ุจูุงุฑโูุง
- **ATC Classification** ุจุฑุง ุทุจููโุจูุฏ ุฏุงุฑููุง
- **RxNorm** ุจุฑุง ุดูุงุณุง ุฏุงุฑููุง
- **SNOMED CT** ุจุฑุง ุงุตุทูุงุญุงุช ูพุฒุดฺฉ

## โ๏ธ ูุญุฏูุฏุชโูุง ู ูุดุฏุงุฑูุง

### ูุญุฏูุฏุชโูุง ุณุณุชู
1. **ุชุดุฎุต ูุญุฏูุฏ** - ููุท ุนูุงุฆู ุณุงุฏู
2. **ุนุฏู ูุนุงูู ูุฒฺฉ** - ุจุฑ ุงุณุงุณ ฺฏุฒุงุฑุด ฺฉุงุฑุจุฑ
3. **ุนุฏู ุฏุณุชุฑุณ ุจู ุชุงุฑุฎฺู ูพุฒุดฺฉ ฺฉุงูู**
4. **ูุญุฏูุฏุช ุจู ุฏุงุฑููุง OTC**

### ูุดุฏุงุฑูุง ููู
1. **ุฌุงฺฏุฒู ูพุฒุดฺฉ ูุณุช** - ุตุฑูุงู ุขููุฒุด
2. **ุฏุฑ ุตูุฑุช ุชุฏุงูู ุนูุงุฆู** - ูุฑุงุฌุนู ุจู ูพุฒุดฺฉ
3. **ุชุฏุงุฎูุงุช ุฏุงุฑู** - ูุดูุฑุช ุจุง ุฏุงุฑูุณุงุฒ
4. **ุขูุฑฺโูุง ุฏุงุฑู** - ุจุฑุฑุณ ูุจู ุงุฒ ูุตุฑู

---

**ูฺฉุชู:** ุงู ุณูุฏ ุชุญูู ฺฉุงูู ููุทู ุชุตููโฺฏุฑ ุณุณุชู ูุดุงูุฑ OTC ุงุณุช ฺฉู ูโุชูุงูุฏ ุจุฑุง ุชุญููโูุง ุจุดุชุฑ ู ุจูุจูุฏ ุณุณุชู ุงุณุชูุงุฏู ุดูุฏ.

**ุชุงุฑุฎ ุชูู:** ฒฐฒด  
**ูุณุฎู:** ฑ.ฐ  
**ูุถุนุช:** ูุนุงู ู ุฏุฑ ุญุงู ุงุณุชูุงุฏู